<!DOCTYPE html>
<!-- saved from url=(0069)https://webcms3.cse.unsw.edu.au/COMP3311/22T3/activities/quizzes/1979 -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="csrf-token" content="1669179576##738d38099f9a24938c9b43a8d837128fa20198c2">
    <title>Quiz 4 |  COMP3311 22T3 | WebCMS3</title>

    <link rel="icon" href="https://webcms3.cse.unsw.edu.au/static/img/favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="https://webcms3.cse.unsw.edu.au/static/img/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" id="theme" href="./Quiz 4 _ COMP3311 22T3 _ WebCMS3_files/green.theme.4c196592b30bf6c52132b13a50237374.css">


<script src="./Quiz 4 _ COMP3311 22T3 _ WebCMS3_files/Sortable.min.js"></script>
  <style type="text/css"></style><style type="text/css">.select-box{position:absolute;border:1px solid #ddd;border-radius:3px;box-shadow:0 0 5px rgba(0,0,0,.1);background:#fff;z-index:1000}.mention{text-decoration:none!important;color:#000!important;background-color:#dce6f8;padding:0;margin-right:.5em}.user-select{list-style-type:none;list-style:none;margin:0;padding:0;font-family:Helvetica,Arial,sans-serif;font-size:14px;line-height:1.5}.user-select li{display:block;padding:5px 10px;font-weight:600;cursor:pointer;border-bottom:1px solid #ddd}.user-select li small{font-weight:400;color:#767676}.user-select .selected small{color:#fff}.user-select .selected{background-color:#4078c0;color:#fff}</style></head>
  <body role="document" id="webcms3top" class="vsc-initialized">
    <nav class="navbar navbar-default">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="https://webcms3.cse.unsw.edu.au/">WebCMS3</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
                <li><a href="https://webcms3.cse.unsw.edu.au/COMP3121/22T3/" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Algorithms and Programming Techniques">COMP3121</a></li>
                <li class="active"><a href="https://webcms3.cse.unsw.edu.au/COMP3311/22T3/" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Database Systems">COMP3311</a></li>

          </ul>
          <ul class="nav navbar-nav navbar-right">
              <li><a href="https://webcms3.cse.unsw.edu.au/search" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Search Courses"><i class="fa fa-search"></i></a></li>
              <li class="dropdown">
                <a href="https://webcms3.cse.unsw.edu.au/COMP3311/22T3/activities/quizzes/1979#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
                  <div class="nav-profile-mask">
                    <img class="profile_picture" src="./Quiz 4 _ COMP3311 22T3 _ WebCMS3_files/default_avatar.png">
                  </div>
                  <span class="caret"></span>
                </a>
                <ul class="dropdown-menu" role="menu">
                  <li><a href="https://webcms3.cse.unsw.edu.au/users/z5363776"><i class="fa fa-user"></i> Profile</a></li>
                  <li><a href="https://webcms3.cse.unsw.edu.au/users/z5363776/settings"><i class="fa fa-cog"></i> Settings</a></li>
                  <li class="divider"></li>
                  <li><a href="https://webcms3.cse.unsw.edu.au/logout"><i class="fa fa-sign-in"></i> Logout</a></li>
                </ul>
              </li>
            </ul>
        </div><!--/.nav-collapse -->
      </div>
    </nav>

    <div class="container">

      <div class="row row-offcanvas row-offcanvas-left">
          <div class="col-sm-3 col-md-3 sidebar-offcanvas" id="sidebar" role="navigation">
            <div class="sidebar hidden-print">
  <div class="panel panel-default">
    <!-- Default panel contents -->
    <div class="panel-heading">
      <h4 class="panel-title"><a href="https://webcms3.cse.unsw.edu.au/COMP3311/22T3/">COMP3311</a> <small>22T3</small></h4>
    </div>

      <div class="panel-body">
        <img class="img-responsive img-center" src="./Quiz 4 _ COMP3311 22T3 _ WebCMS3_files/pg1.jpg">
      </div>
  </div>

  <ul class="list-group">
            <li class="list-group-item ">
          <a href="https://webcms3.cse.unsw.edu.au/COMP3311/22T3/">Home</a>
        </li>        <li class="list-group-item ">
          <a href="https://webcms3.cse.unsw.edu.au/COMP3311/22T3/resources/79842">Exams</a>
        </li>        <li class="list-group-item ">
          <a href="https://webcms3.cse.unsw.edu.au/COMP3311/22T3/outline">Course Outline</a>
        </li>
        <li class="list-group-item ">
          <a href="https://webcms3.cse.unsw.edu.au/COMP3311/22T3/activities/quizzes/1979#side-menu4" data-toggle="collapse" data-parent=".sidebar">
            Course Work <span class="caret"></span>
          </a>
        </li>
        <ul class="list-group collapse in" id="side-menu4">
                  <li class="list-group-item ">
          <a href="https://webcms3.cse.unsw.edu.au/COMP3311/22T3/resources/79881">Slides and Videos</a>
        </li>        <li class="list-group-item ">
          <a href="https://webcms3.cse.unsw.edu.au/COMP3311/22T3/resources/81300">Lecture Material</a>
        </li>        <li class="list-group-item ">
          <a href="https://webcms3.cse.unsw.edu.au/COMP3311/22T3/resources/79918">Tute Exercises</a>
        </li>        <li class="list-group-item ">
          <a href="https://webcms3.cse.unsw.edu.au/COMP3311/22T3/resources/79946">Prac Exercises</a>
        </li>        <li class="list-group-item ">
          <a href="https://webcms3.cse.unsw.edu.au/COMP3311/22T3/resources/80015">Assignments</a>
        </li>        <li class="list-group-item ">
          <a href="https://webcms3.cse.unsw.edu.au/COMP3311/22T3/resources/80039">Course Notes</a>
        </li>

        </ul>
        <li class="list-group-item ">
          <a href="https://webcms3.cse.unsw.edu.au/COMP3311/22T3/resources/80033">Online Tutorial Links</a>
        </li>        <li class="list-group-item ">
          <a href="https://webcms3.cse.unsw.edu.au/COMP3311/22T3/forums/">Forums</a>
        </li>        <li class="list-group-item ">
          <a href="https://webcms3.cse.unsw.edu.au/COMP3311/22T3/activities/">Activities</a>
        </li>        <li class="list-group-item ">
          <a href="https://webcms3.cse.unsw.edu.au/COMP3311/22T3/resources/80032">Moodle</a>
        </li>        <li class="list-group-item ">
          <a href="https://webcms3.cse.unsw.edu.au/COMP3311/22T3/resources/79945">Musings</a>
        </li>        <li class="list-group-item ">
          <a href="https://webcms3.cse.unsw.edu.au/COMP3311/22T3/timetable">Timetable</a>
        </li>
        <li class="list-group-item ">
          <a href="https://webcms3.cse.unsw.edu.au/COMP3311/22T3/activities/quizzes/1979#side-menu11" data-toggle="collapse" data-parent=".sidebar">
            Staff <span class="caret"></span>
          </a>
        </li>
        <ul class="list-group collapse" id="side-menu11">
          

                     <li class="list-group-item">
    <a href="https://webcms3.cse.unsw.edu.au/users/z9300035">John Shepherd</a>
    <span class="label label-primary">Lecturer</span>
  </li>

        <li class="list-group-item">
    <a href="https://webcms3.cse.unsw.edu.au/users/z5161996">Minyi Zhong</a>
    <span class="label label-primary">Course Admin</span>
  </li>

        <li class="list-group-item">
    <a href="https://webcms3.cse.unsw.edu.au/users/z5165455">Richard Liu</a>
    <span class="label label-primary">Course Admin</span>
  </li>

        <li class="list-group-item">
    <a href="https://webcms3.cse.unsw.edu.au/users/z5208931">Kyu-Sang Kim</a>
    <span class="label label-primary">Course Admin</span>
  </li>

        <li class="list-group-item">
    <a href="https://webcms3.cse.unsw.edu.au/users/z5030786">Yuchao Jiang</a>
    <span class="label label-primary">Course Admin</span>
  </li>


        <li class="list-group-item">
    <a href="https://webcms3.cse.unsw.edu.au/users/z5259232">Michael Gribben</a>
    <span class="label label-default">Tutor</span>
  </li>

        <li class="list-group-item">
    <a href="https://webcms3.cse.unsw.edu.au/users/z5162060">Andi Yao</a>
    <span class="label label-default">Tutor</span>
  </li>

        <li class="list-group-item">
    <a href="https://webcms3.cse.unsw.edu.au/users/z5261536">Jianjun Chen</a>
    <span class="label label-default">Tutor</span>
  </li>

        <li class="list-group-item">
    <a href="https://webcms3.cse.unsw.edu.au/users/z2181240">Helen Paik</a>
    <span class="label label-default">Tutor</span>
  </li>

        <li class="list-group-item">
    <a href="https://webcms3.cse.unsw.edu.au/users/z5427046">Evan Krul</a>
    <span class="label label-default">Tutor</span>
  </li>

        <li class="list-group-item">
    <a href="https://webcms3.cse.unsw.edu.au/users/z5241097">Nian Li</a>
    <span class="label label-default">Tutor</span>
  </li>

        <li class="list-group-item">
    <a href="https://webcms3.cse.unsw.edu.au/users/z5257207">Jonathan Clark</a>
    <span class="label label-default">Tutor</span>
  </li>


        </ul>
        <li class="list-group-item ">
          <a href="https://webcms3.cse.unsw.edu.au/COMP3311/22T3/resources/80002">Tutors' Weekly</a>
        </li>


  </ul>
  <div class="panel panel-default">
    <div class="panel-footer">

      <div class="pull-right"> 
        <a href="https://webcms3.cse.unsw.edu.au/COMP3311/22T3/users/grades" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Grades"><i class="fa fa-bar-chart"></i></a>
        <a href="https://webcms3.cse.unsw.edu.au/COMP3311/22T3/blogs/" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Blog"><i class="fa fa-comment"></i></a>
        <!--TODO: actual link and change icon-->
        <a href="https://webcms3.cse.unsw.edu.au/COMP3311/22T3/wiki/" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Wiki"><i class="fa fa-asterisk"></i></a>
      </div>
      Alexander Lai<br>
      <small>Student</small>
    </div>
  </div>
  
</div>
          </div>
          <div class="col-sm-9 col-md-9 main">
            <p class="visible-xs hidden-print">
              <button type="button" class="btn btn-primary btn-xs" data-toggle="offcanvas" id="toggle-menu"><i class="glyphicon glyphicon-chevron-left"></i> Toggle Menu</button>
            </p>
<div class="page-header">
  <h1>Quiz 4</h1>
</div>

<div>
  
</div>


    <br>
    <div class="row">
    <div class="text-left col-md-12 col-md-offset-0">
      <div class="table-responsive">
        <table class="table table-bordered table-condensed table-striped">
          <tbody><tr>
            <td>Deadline</td>
            <td>
                <small>Friday, 28 October 2022 at 11:59PM
                </small>
            </td>
          </tr>
          <tr>
            <td>Latest Submission</td>
            <td>
                <small>Thursday, 27 October 2022 at 5:41PM</small>
            </td>
          </tr>
            <tr>
              <td>Raw Mark</td>
              <td>
                <small>2.00/4.00 (50.00%)</small>
              </td>
            </tr>
            <tr>
              <td>Late Penalty</td>
            <td>
              <small>N/A</small>
            </td>
          </tr>
          <tr>
            <td>Final Mark</td>
            <td>
              <small>2.00/4.00 (50.00%)</small>
            </td>
          </tr>
      </tbody></table>
    </div>
  </div>
</div>



<form action="https://webcms3.cse.unsw.edu.au/COMP3311/22T3/activities/quizzes/1979" method="POST" name="submit-quiz-response">

  <fieldset>
<div class="quiz-question">
  <div style="display:none;"><input id="questions-0-csrf_token" name="questions-0-csrf_token" type="hidden" value="1669179576##738d38099f9a24938c9b43a8d837128fa20198c2"><input id="questions-0-question_type" name="questions-0-question_type" type="hidden" value="selection"><input id="questions-0-numeric_type" name="questions-0-numeric_type" type="hidden" value=""></div>
  <div style="display: none;" class="fixed-q-type">
    selection
  </div>
  <p><label for="questions-0-options">Question 1 (1 mark)</label></p><p></p><p>Consider the following SQL schema:</p><pre>create table Courses (
   id integer primary key, 
   code text,
   title text,
   quota integer check (quota between 1 and 9999),
   ...
);
create table Enrolments (
   student integer references Students(id),
   course integer references Courses(id),
   ...
);
</pre><p>Which of the following assertions captures the requirement that the total number of students enrolled in a course cannot be greater than the course quota?</p><p></p><table class="table table-bordered" id="questions-0-options"><tbody><tr><td class="col-sm-1 text-center">(a) <input checked="checked" disabled="" id="questions-0-options-57795" name="questions-0-options" type="radio" value="57795"></td><td><pre>create assertion check_quota
check (not exists (
          select *
          from   Courses c join Enrolments e on (e.course = c.id)
          group  by e.student
          having count(*) &gt; c.quota
       )
);        
</pre></td></tr><tr><td class="col-sm-1 text-center">(b) <input disabled="" id="questions-0-options-57796" name="questions-0-options" type="radio" value="57796"></td><td><pre>create assertion check_quota
check (not exists (
          select * 
          from   (select c.id, count(student) as nstu, c.quota
                  from   Courses c join Enrolments e on (e.course = c.id)
                  group  by c.id, c.quota
                 ) as x
          where  x.nstu &gt; x.quota
       )
);
</pre></td></tr><tr><td class="col-sm-1 text-center">(c) <input disabled="" id="questions-0-options-57797" name="questions-0-options" type="radio" value="57797"></td><td><pre>create assertion check_quota
check (not exists (
          select *
          from   Courses c
          where  c.quota &gt;= (select count(*) from Enrolments e where e.course = c.id)
       )
);
</pre></td></tr><tr><td class="col-sm-1 text-center">(d) <input disabled="" id="questions-0-options-57798" name="questions-0-options" type="radio" value="57798"></td><td><p>None of the above is correct</p></td></tr></tbody></table>

      <p>
      </p><div class="bg-danger" style="padding-left: 5px;">
        <span class="text-danger">
          <i class="fa fa-times" aria-hidden="true"></i>
          Your response was incorrect. <br> The correct response was:
           (b)

        <br> Mark:
        0.00
      </span>
    </div>
    <p>
    </p><div class="bg-danger" style="padding-left: 5px;">
      <span class="text-danger">
         <p>
  Option (a) is incorrect because it's counting how many courses each student has taken.
 </p>
 <p>
  Options (b) and (c) both have the right approach, but ...
 </p>
 <p>
  (b) is correct
  <span>
  </span>
 </p>
 <p>
  (c) is incorrect because it's checking for the quota being larger than the enrolments
  <strong>
   <span style="font-size: 18px;">
   </span>
  </strong>
 </p>
      </span>
    </div>
  <p></p>

</div><div class="quiz-question">
  <div style="display:none;"><input id="questions-1-csrf_token" name="questions-1-csrf_token" type="hidden" value="1669179576##738d38099f9a24938c9b43a8d837128fa20198c2"><input id="questions-1-question_type" name="questions-1-question_type" type="hidden" value="selection"><input id="questions-1-numeric_type" name="questions-1-numeric_type" type="hidden" value=""></div>
  <div style="display: none;" class="fixed-q-type">
    selection
  </div>
  <p><label for="questions-1-options">Question 2 (1 mark)</label></p><p></p><p>Consider the following tables:</p><pre>create table S (x integer, y integer);
create table T (z integer);
</pre><p>and an assertion that holds between them</p><pre>all S.x values must be larger than all T.z values
</pre><p>A trigger function to check this might look like:</p><pre>create or replace function checkXlarger() returns trigger
as $$
declare
    minX integer; maxZ integer;
begin
    select min(x) into minX from S;
    select max(z) into maxZ from T;
    if (maxZ &gt;= minX) then
       raise exception 'All S.x must be greater than all T.z';
    end if;
    return new; 
end;
$$ language plpgsql;
</pre><p>If we insert this function into the database, what would be the <em><strong>most appropriate</strong></em> way to set up the trigger, if we  want all of the standard constraint checks to be carried out before checking this condition.</p><p></p><table class="table table-bordered" id="questions-1-options"><tbody><tr><td class="col-sm-1 text-center">(a) <input disabled="" id="questions-1-options-57799" name="questions-1-options" type="radio" value="57799"></td><td><pre>create trigger checkAssert before insert or update on S
for each row execute procedure checkXlarger();
</pre></td></tr><tr><td class="col-sm-1 text-center">(b) <input disabled="" id="questions-1-options-57800" name="questions-1-options" type="radio" value="57800"></td><td><pre>create trigger checkAssert after insert or update on S
for each row execute procedure checkXlarger();</pre></td></tr><tr><td class="col-sm-1 text-center">(c) <input checked="checked" disabled="" id="questions-1-options-57801" name="questions-1-options" type="radio" value="57801"></td><td><pre>create trigger checkAssert1 before insert or update on S
for each row execute procedure checkXlarger(); 
create trigger checkAssert2 before insert or update on T
for each row execute procedure checkXlarger();
</pre></td></tr><tr><td class="col-sm-1 text-center">(d) <input disabled="" id="questions-1-options-57802" name="questions-1-options" type="radio" value="57802"></td><td><pre>create trigger checkAssert1 after insert or update on S
for each row execute procedure checkXlarger();
create trigger checkAssert2 after insert or update on T
for each row execute procedure checkXlarger();
</pre></td></tr><tr><td class="col-sm-1 text-center">(e) <input disabled="" id="questions-1-options-57803" name="questions-1-options" type="radio" value="57803"></td><td><p>No trigger is needed; this whole question is a bluff. This checking could be done more simply with standard database constraints</p></td></tr></tbody></table>

      <p>
      </p><div class="bg-danger" style="padding-left: 5px;">
        <span class="text-danger">
          <i class="fa fa-times" aria-hidden="true"></i>
          Your response was incorrect. <br> The correct response was:
           (d)

        <br> Mark:
        0.00
      </span>
    </div>
    <p>
    </p><div class="bg-danger" style="padding-left: 5px;">
      <span class="text-danger">
         <p>
  Options (a) and (b) are incorrect, because they don't take account of changes to T.
 </p>
 <p>
  Options (c) and (d) both have the right approach, but (c) does the checks before the standard constraint checking occurs, whereas the question specified that we wanted the standard constraint checking to be done first.
 </p>
      </span>
    </div>
  <p></p>

</div><div class="quiz-question">
  <div style="display:none;"><input id="questions-2-csrf_token" name="questions-2-csrf_token" type="hidden" value="1669179576##738d38099f9a24938c9b43a8d837128fa20198c2"><input id="questions-2-question_type" name="questions-2-question_type" type="hidden" value="blanks"><input id="questions-2-numeric_type" name="questions-2-numeric_type" type="hidden" value=""></div>
  <div style="display: none;" class="fixed-q-type">
    blanks
  </div>
  <p><label for="questions-2-options">Question 3 (1 mark)</label></p>
    <div style="padding-bottom: 10px;">
      <div class="form-inline"> <p>I could define an aggregate to concatenate a column of strings (like <tt>string_agg()</tt> but without the delimiter), as follows
</p><pre>create aggregate concat(text) (
    sfunc = append,
    stype = text,
    initcond =  <input type="text" data-toggle="tooltip" disabled="" id="questions-2-blanks-0-field" name="questions-2-blanks-0-field" placeholder="Enter response" title="" value="&#39;&#39;" class="form-control" style="max-width: 175px;" data-original-title="&#39;&#39;"> ,
);
</pre><p> where the <tt>append()</tt> function simply appends one string to another (e.g. using <tt>x||y</tt>).
</p><p>Fill in the blank to indicate a suitable value for <tt>initcond</tt>?
</p> </div>
    </div>

      <p>
      </p><div class="bg-success" style="padding-left: 5px;">
        <span class="text-success">
          <i class="fa fa-check" aria-hidden="true"></i>
          Your response was correct.
        <br> Mark:
        1.00
      </span>
    </div>
    <p>
    </p><div class="bg-success" style="padding-left: 5px;">
      <span class="text-success">
         <p>
  The initial condition must be ''. Making it ' ' gives an extraneous space at the start of the result. Making it NULL will always yield a NULL result.
 </p>
      </span>
    </div>
  <p></p>

</div><div class="quiz-question">
  <div style="display:none;"><input id="questions-3-csrf_token" name="questions-3-csrf_token" type="hidden" value="1669179576##738d38099f9a24938c9b43a8d837128fa20198c2"><input id="questions-3-question_type" name="questions-3-question_type" type="hidden" value="selection"><input id="questions-3-numeric_type" name="questions-3-numeric_type" type="hidden" value=""></div>
  <div style="display: none;" class="fixed-q-type">
    selection
  </div>
  <p><label for="questions-3-options">Question 4 (1 mark)</label></p><p></p><p> Consider the following aggregate definition:
</p><pre>create type IntPair as (x integer, y integer);
create function 
    next_state(p IntPair, n integer) returns IntPair
as $$
begin
    if (p.x is null) then
        p.x := n;
    elsif (p.y is null) then
        if (n &lt; p.x) then
            p.y := n;
        elsif (n &gt; p.x) then
            p.y := p.x; p.x := n;
        end if;
    elsif (n &gt; p.x) then
        p.y := p.x; p.x := n;
    elsif (n &lt; p.x and n &gt; p.y) then
        p.y := n;
    end if;
    return p;
end;
$$ language plpgsql;
create function
    second(p IntPair) returns integer
as $$
begin
    return p.y;
end;
$$ language plpgsql;
create aggregate max2 (int) (
    sfunc = next_state,
    stype = IntPair,
    finalfunc = second
);
</pre><p>
	What is the output of the following SQL statement applying this aggregate to the E<tt>nrolments</tt> table below?
</p><pre>db=# select max2(mark) from Enrolments;
</pre><pre>db=# select * from Enrolments order by course;

 student |    course     | mark | grade
---------+---------------+------+-------
 james   | COMP1917 12s1 |   50 | D
 peter   | COMP1917 12s1 |   45 | E
 john    | COMP1917 12s1 |   90 | A
 peter   | COMP1917 12s2 |   40 | E
 john    | COMP1927 12s2 |   85 | A
 james   | COMP1927 12s2 |   55 | D
 james   | COMP2911 13s1 |   50 | D
 john    | COMP2911 13s1 |   85 | A
 john    | COMP3311 13s2 |   70 | B
</pre><p></p><table class="table table-bordered" id="questions-3-options"><tbody><tr><td class="col-sm-1 text-center">(a) <input disabled="" id="questions-3-options-57804" name="questions-3-options" type="radio" value="57804"></td><td><p>63.33</p></td></tr><tr><td class="col-sm-1 text-center">(b) <input disabled="" id="questions-3-options-57805" name="questions-3-options" type="radio" value="57805"></td><td><p>70</p></td></tr><tr><td class="col-sm-1 text-center">(c) <input checked="checked" disabled="" id="questions-3-options-57806" name="questions-3-options" type="radio" value="57806"></td><td><p>85</p></td></tr><tr><td class="col-sm-1 text-center">(d) <input disabled="" id="questions-3-options-57807" name="questions-3-options" type="radio" value="57807"></td><td><p>90</p></td></tr><tr><td class="col-sm-1 text-center">(e) <input disabled="" id="questions-3-options-57808" name="questions-3-options" type="radio" value="57808"></td><td><p>(90,85)</p></td></tr><tr><td class="col-sm-1 text-center">(f) <input disabled="" id="questions-3-options-57809" name="questions-3-options" type="radio" value="57809"></td><td><p>(90,40)</p></td></tr><tr><td class="col-sm-1 text-center">(g) <input disabled="" id="questions-3-options-57810" name="questions-3-options" type="radio" value="57810"></td><td><p>None of the other answers is correct.</p></td></tr></tbody></table>

      <p>
      </p><div class="bg-success" style="padding-left: 5px;">
        <span class="text-success">
          <i class="fa fa-check" aria-hidden="true"></i>
          Your response was correct.
        <br> Mark:
        1.00
      </span>
    </div>
    <p>
    </p><div class="bg-success" style="padding-left: 5px;">
      <span class="text-success">
         <p>
  This aggregate finds the second largest in a sequence of integers. For the given data, this is 85.
 </p>
      </span>
    </div>
  <p></p>

</div>  </fieldset>


</form>
          </div>
      </div>
      <div class="row hidden-print">
        <div class="col-sm-12">
          <hr>
          <p class="pull-right"><a href="https://webcms3.cse.unsw.edu.au/COMP3311/22T3/activities/quizzes/1979#webcms3top">Back to top <i class="fa fa-caret-up"></i></a></p>
          <div class="pull-left">

          <strong>COMP3311 22T3 (Database Systems)</strong>
          is powered by <a href="https://webcms3.cse.unsw.edu.au/about">WebCMS3</a>
          <h6><small>CRICOS Provider No. 00098G</small></h6>
        </div>
      </div>
    </div>


    <script src="./Quiz 4 _ COMP3311 22T3 _ WebCMS3_files/manifest.cfb3a155968bb33441c3.js"></script>
    <script src="./Quiz 4 _ COMP3311 22T3 _ WebCMS3_files/vendor.ccafba1973f262c84499.js"></script>
    <script src="./Quiz 4 _ COMP3311 22T3 _ WebCMS3_files/app.b49dff5297717517af10.js"></script>

<script src="./Quiz 4 _ COMP3311 22T3 _ WebCMS3_files/moment.min.js"></script>
<script type="text/javascript">
  
  function reloadQuestionTypes() {
    $('div.quiz-question').each(function () {
      let val = null
      $(this).find("select[id$='-question-type']").each(function () {
        val = $(this).val()
      })
      if (val === null) {
        /* radio buttons do not exist in non-append mode & on quiz view page */
        val = $(this).find('.fixed-q-type').html().match(/\w+/)[0]
      }
      $(this).find("input[type='hidden'][name$='-question_type']").each(function () {
        $(this).val(val)
      })
      if ($(this).find('.fixed-n-type').length) {
        const numVal = $(this).find('.fixed-n-type').html().match(/\w+/)[0]
        $(this).find("input[type='hidden'][name$='-numeric_type']").each(function () {
          $(this).val(numVal)
        })
      }
    })
  }

  reloadQuestionTypes()


  
  /* there is a jquery binding for sortable but not worth the extra library */
  const sequences = document.querySelectorAll('[id$="sequence-order-list"]')

  for (const elem of sequences) {
    Sortable.create(
      elem, {
        animation: 250,
        delay: 0,
        disabled: true,
        onEnd: updateSequenceOrder
      }
    )
  }

  function updateSequenceOrder() {
    $('input[id$="sequence-order"]').each(function () {
      /* perhaps its overkill to repeat this for all the sequence
         ordering questions, but i doubt there'd be that many in
         a single quiz - this approach acts as a fail-safe as well */
      let order = ''
      const list = $(`#${$(this).attr('id')}-list`)
      $(list).find('li').each(function () {
        order += `,${$(this).attr('id')}`
      })
      $(this).val(order.substr(1,))
    })
  }
  updateSequenceOrder()


</script>
<script>
$(function() {
  $('form').submit(function (e) {
    let form = this;
    e.preventDefault();
    const box = bootbox.confirm("Are you sure you wish to submit? You may resubmit later.", function (confirmed) {
      if (confirmed) {
        form.submit();
      }
    });

    /* run some arbitrary code when modal is shown */
    box.on('shown.bs.modal', function () {
       let due = moment('2022-10-28 23:59:00')
     let now = moment()
     now.seconds(0)
     now.milliseconds(0)
     let txt
     let offset = due.isBefore(now) ? 1 : 0
     if ('True' === 'True') {
         txt = parseInt(now.diff(due, 'hours', true)) + offset + ' hour'
     } else {
         txt = parseInt(now.diff(due, 'days', true)) + offset + ' day'
     }
     const plural = (txt.match(/^1 /)) ? '' : 's'
     if (!txt.match(/^(-|0 )/)) {
       $('.bootbox-body').append(` A submission now would be ${txt}${plural} late.`)
     }

    });
  });
});
</script>


    <script>
      jQuery.timeago.settings.allowFuture = true;

      $(function() {
        $('*[id^="redactor"]').each(function () {
          $(this).redactor({
            imageUpload: "/files/redactor/upload",
            plugins: ['table', 'fontsize', 'fontcolor', 'video', 'template']
          });

        });
          $('.redactor').redactor({
            imageUpload: "/files/redactor/upload",
            plugins: ['table', 'fontsize', 'fontcolor', 'video', 'template']
          });
      });

      $(document).ready(function() {
        /* hack to remove awful extra padding */
        $('.redactor-box').attr('style', 'margin: 0 !important; padding: 0 !important;');

        /* force text cursor in redactor editing field */
        $('.redactor-editor').each(function () {
          $(this).attr('style', 'cursor: text;');
        });
      });

      $(document).ready(function() {
        $('[data-toggle=buttons]').click(function() {
          /* hack to get toolbar to show */
          setTimeout(function() {$('.redactor').scroll()}, 0);
        });
      });

    </script>
    <script>
        $(document).on('change', '.btn-file :file', function() {
          var input = $(this),
              numFiles = input.get(0).files ? input.get(0).files.length : 1,
              label = input.val().replace(/\\/g, '/').replace(/.*\//, '');
          input.trigger('fileselect', [numFiles, label]);
        });

        $(document).ready( function() {
            $('.btn-file :file').on('fileselect', function(event, numFiles, label) {
                var input = $(this).parents('.input-group').find(':text'),
                    log = numFiles > 1 ? numFiles + ' files selected' : label;
                if (input.length) {
                    input.val(log);
                } else {
                    if (log) alert(log);
                }
            });
        });

      $('[data-toggle="popover"]').popover();
    </script>

    <script type="text/javascript">
      jQuery(document).ready(function() {
        jQuery("abbr.timeago").timeago();
      });

      $(function() {
        $('[data-toggle="tooltip"]').tooltip()
      })
      $(document).ready(function() {
        $('[data-toggle=offcanvas]').click(function() {
          $('.row-offcanvas').toggleClass('active');
        });
      });
    </script>




  
</div></body></html>